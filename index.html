<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stream Player with CORS Proxy</title>
  
  <!-- Video.js CSS -->
  <link href="https://vjs.zencdn.net/7.15.4/video-js.css" rel="stylesheet">
  <!-- Video.js JS -->
  <script src="https://vjs.zencdn.net/7.15.4/video.js"></script>
</head>
<body>
  <h1>Stream Player with CORS Proxy</h1>

  <!-- Input Box for Stream URL -->
  <label for="streamUrl">Enter Stream URL:</label>
  <input type="text" id="streamUrl" placeholder="Enter stream URL (M3U8)">
  <button onclick="playStream()">Play Stream</button>

  <!-- Video.js Player -->
  <video id="my-video" class="video-js vjs-default-skin" controls width="100%" height="480">
    <source src="" type="application/x-mpegURL">
  </video>

  <script>
    function playStream() {
      // Get the stream URL from the input box
      var streamUrl = document.getElementById('streamUrl').value;

      // If the URL is not empty
      if (streamUrl) {
        // Use CORS proxy to bypass restrictions
        var proxyUrl = "https://api.allorigins.win/raw?url=" + streamUrl;

        // Set the proxy URL as the source for the video player
        var player = videojs('my-video');
        player.src({ type: "application/x-mpegURL", src: proxyUrl });

        // Start playing the video
        player.play();  
      } else {
        alert("Please enter a valid stream URL.");
      }
    }
  </script>
</body>
</html>
